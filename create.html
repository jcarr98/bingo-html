<!DOCTYPE html>
<html>
  <head>
    <title>Create - Bingo Creator</title>

    <!-- Metadata -->
    <meta charset="UTF-8" />
    <meta name="author" content="Jeffrey Carr" />
    <meta name="description" content="Easily create a large number of bingo sheets from a Spotify playlist" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Stylesheets -->
    <link rel="stylesheet" href="./styles/index.css" />
    <link rel="stylesheet" href="./styles/components.css" />

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200;0,500;1,200&display=swap"
    rel="stylesheet" />
    <script src="https://kit.fontawesome.com/c7ff23f1ca.js" crossorigin="anonymous"></script>
  </head>
  <body onload="loadSettings(); validateUser(); loadTracks();">
    <!-- Banner -->
    <nav class="box box-full box-vertical">
      <div class="banner">
        <div class="box box-small" style="padding-left: 2em;">
          <h4>
            <a href="/"><i class="fa-solid fa-house fa-xl"></i></a>
          </h4>
        </div>
        <div class="box box-vertical">
          <div class="banner-title">Bingo Creator</div>
          <div class="banner-subtitle">Jeffrey Carr</div>
        </div>
        <div class="box box-small" style="padding-right: 2em;">
          <a onclick="toggleDropdown()" id="apps-dropdown-container">
            <div class="box box-vertical">
                <i class="fa-solid fa-cubes-stacked"></i>
                <span>Apps</span>
            </div>
          </a>
          <div class="dropdown-content" id="apps-dropdown">
            <a href="https://jeffreycarr.dev">Main Site</a>
            <a href="https://recipe.jeffreycarr.dev">Recipe Book</a>
            <a href="#bingo">Bingo Creator</a>
          </div>
        </div>  
      </div>

      <div class="box box-small" style="background: var(--main);">
        <button onclick="switchMode()" class="btn btn-small btn-plain" id="modeSwitch"></button>
      </div>
    </nav>

    <h1>Create Bingo Sheets</h1>

    <!-- Description of services -->
    <div class="box">
      <p>
        Here you can edit the sheet name, song names, and add a free space image or company name.
        Please keep in mind that all sheet creation takes place on your browser, so the more sheets
        you need to make the longer it will take depending on your computer.
      </p>
      <p>
        Total songs: <span id="totalTracks" style="font-weight: bold;">?</span>
      </p>
      <p>
        You can generate <span id="possibleSheets" style="font-weight: bold;">?</span> unique 
        bingo boards with this many songs!
      </p>
    </div>

    <!-- Bingo sheet properties -->
    <h2>Sheet Info</h2>
    <table>
      <tr>
        <td class="table-clear-label">Sheet Name:</td>
        <td class="table-clear-input"><input type="text" name="playlistName" class="input input-long" id="playlistName" /></td>
      </tr>
      <tr>
        <td class="table-clear-label">Number of Sheets:</td>
        <td class="table-clear-input"><input type="number" min="1" value="1" class="input input-long" name="numSheets" id="numSheets" /></td>
      </tr>
      <tr>
        <td class="table-clear-label">
          <div class="box box-vertical box-nocenter">
            <span>Company Name:</span>
            <span style="font-size: 0.8em;">(Optional)</span>
          </div>
        </td>
        <td class="table-clear-input">
          <input class="input input-long" type="text" name="companyName" id="companyName" />
        </td>
      </tr>
      <tr>
        <td class="table-clear-label">
          <div class="box box-vertical box-nocenter">
            <span>Free Space Logo:</span>
            <span style="font-size: 0.8em;">(Optional)</span>
          </div>
        </td>
        <td class="table-clear-input">
          <div class="box box-vertical box-nocenter">
            <input type="file" name="freespace" id="freespace" accept="image/png, image/jpeg, image/heic" />
            <div>
              <span style="font-size: 0.7em;">Accepts PNG, JPEG, and HEIC</span>
            </div>
          </div>
        </td>
      </tr>
    </table>
    
    <!-- All tracks-->
    <h2>Tracks</h2>
    <div class="box box-full box-vertical" id="trackList">
      Loading...
    </div>

    <div class="box box-large">
      <div class="box box-small">
        <button onclick="go();" class="btn">Download Sheets</button>
      </div>
      <div class="box box-small">
        <button onclick="window.location.href = '/';" class="btn btn-secondary">Cancel</button>
      </div>
    </div>

    <div class="overlay" id="loadingModal">
      <div class="overlay-content box box-full">
        <h1>Creating sheets...</h1>
      </div>
    </div>
    
    <!-- Shared methods -->
    <script type="text/javascript" src="./js/shared.js"></script>
    <!-- Datastore classes -->
    <script type="text/javascript" src="./classes/datastores.js"></script>
    <!-- PDF code -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.25/jspdf.plugin.autotable.min.js"></script>
    <!-- Page code -->
    <script type="text/javascript" src="./js/create.js"></script>
  </body>
</html>